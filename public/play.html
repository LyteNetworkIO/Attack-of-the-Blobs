<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Play</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/relysia@1.0.6/dist/relysia-sdk.js"></script>
  </head>
  <body>
    <div class="splash-container">
      <center>
      <form id="form2">
        <input type="button" id="show-wallets-btn" class="btn splash-btn" value="Play (Cost is 1 MILLI = 0.001 BSV)"/>
      </form> 
      </center>

      <div>
        <a href="/client-side.html" class="btn splash-btn">Play: 1 MILLI (0.001 BSV) per play)</a>
      </div>
    </div>

    <img src="/images/bitcoinships.png" class="splash-battleship-image">

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
  
    const relysia = new RelysiaSDK();
  let showWalletsBtn = document.getElementById('show-wallets-btn')  

  // Original JavaScript code by Chirp Internet: chirpinternet.eu
  // Please acknowledge use of this code by including this header.
  function getCookie(name) {
    var re = new RegExp(name + "=([^;]+)");
    var value = re.exec(document.cookie);
    return (value != null) ? unescape(value[1]) : null;
  }
  let authTokenExtracted = getCookie("authToken");
  let walletIDExtracted = getCookie("walletID")

  /* var parameters = {
    serviceId: 'optional',
    walletID: 'optional',
  }


  const walletIDResponse = await relysia.allAddresses(parameters);

  console.log(walletIDResponse);
*/
  const authTokenTrimmed = authTokenExtracted.replaceAll('"', '');
  const walletIDTrimmed = walletIDExtracted.replaceAll('"', '');

  var config = {
    method: 'get',
    url: "https://api.relysia.com/v1/address",
    headers: { authToken: authTokenTrimmed},
    walletID: walletIDTrimmed
  };
                
  axios(config)
  .then((response) => {
    console.log(response);
    console.log(JSON.stringify(response.data.data, null, "<br>"));
  })
});

  </script>

  </body>
</html>